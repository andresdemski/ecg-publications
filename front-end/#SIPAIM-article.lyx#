#LyX 2.2 created this file. For more info see http://www.lyx.org/
\lyxformat 508
\begin_document
\begin_header
\save_transient_properties true
\origin unavailable
\textclass spie
\begin_preamble
%  article.tex (Version 3.3, released 19 January 2008)
%  Article to demonstrate format for SPIE Proceedings
%  Special instructions are included in this file after the
%  symbol %>>>>
%  Numerous commands are commented out, but included to show how
%  to effect various options, e.g., to print page numbers, etc.
%  This LaTeX source file is composed for LaTeX2e.

%  The following commands have been added in the SPIE class 
%  file (spie.cls) and will not be understood in other classes:
%  \supit{}, \authorinfo{}, \skiplinehalf, \keywords{}
%  The bibliography style file is called spiebib.bst, 
%  which replaces the standard style unstr.bst.  

%>>> use for US letter paper
%%\documentclass[a4paper]{spie}  %>>> use this instead for A4 paper
%%\documentclass[nocompress]{spie}  %>>> to avoid compression of citations
%% \addtolength{\voffset}{9mm}   %>>> moves text field down
%% \renewcommand{\baselinestretch}{1.65}   %>>> 1.65 for double spacing, 1.25 for 1.5 spacing 
%  The following command loads a graphics package to include images 
%  in the document. It may be necessary to specify a DVI driver option,
%  e.g., [dvips], but that may be inappropriate for some LaTeX 
%  installations. 

\usepackage{multirow}
\usepackage{cite}
\usepackage{graphicx}

  
\end_preamble
\use_default_options false
\maintain_unincluded_children false
\language english
\language_package default
\inputencoding iso8859-1
\fontencoding default
\font_roman "default" "default"
\font_sans "default" "default"
\font_typewriter "default" "default"
\font_math "auto" "auto"
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100 100
\font_tt_scale 100 100
\graphics default
\default_output_format default
\output_sync 1
\bibtex_command default
\index_command default
\float_placement H
\paperfontsize default
\spacing single
\use_hyperref false
\papersize default
\use_geometry false
\use_package amsmath 1
\use_package amssymb 0
\use_package cancel 0
\use_package esint 1
\use_package mathdots 0
\use_package mathtools 0
\use_package mhchem 0
\use_package stackrel 0
\use_package stmaryrd 0
\use_package undertilde 0
\cite_engine basic
\cite_engine_type default
\biblio_style plain
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification true
\use_refstyle 0
\index Index
\shortcut idx
\color #008000
\end_index
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\paragraph_indentation default
\quotes_language english
\papercolumns 1
\papersides 1
\paperpagestyle default
\tracking_changes true
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\author -1260779252 "mariano"
\author 361918700 "Mariano"
\author 2088930433 "Alan"
\end_header

\begin_body

\begin_layout Title
ECG-kit: An Online tool for Cardiovascular Signal Processing
\end_layout

\begin_layout Author

\lang spanish
Alan Campora, Sebastián Torres
\lang english
 and 
\lang spanish
Mariano Llamedo Soria
\lang english

\begin_inset Newline newline
\end_inset

Electronic Department
\lang spanish
, Universidad Tecnológica Nacional, Buenos Aires, Argentina
\end_layout

\begin_layout Abstract
Nowadays, cardiovascular diseases (CVD) cause most of the deaths in the
 developed world.
 Taking data from the World Health Organization, 17.3 millions people have
 died because of CVD in 2008, therefore, advances in this area could improve
 the health of many people.
 Taking that into account, the proposal of this work is to develop an open
 web interface to analyze cardiovascular signals and provide as a result,
 the posibility of performing automatic measurements for further analysis,
 a detailed report of several health indexes, and also the capability of
 viewing of the
\change_deleted 2088930433 1469826717
 
\change_unchanged
 signals under analysis.
 Creating an open web software will give, to users of several degrees of
 expertise, the possibility of studying cardiovascular signals without being
 an expert in automatic algorithms.
 Furthermore, any researcher around the world could use this application
 to compare their algorithms with the ones implemented in the ecg-kit toolbox.
\end_layout

\begin_layout Section
Introduction
\end_layout

\begin_layout Standard
Cardiovascular diseases (CVD) are in the present the first cause of death
 in the developed countries.
 Probably the biggest challenge of the modern cardiology is the sudden cardiac
 death, in several aspects related to ventricular arrhythmias.
 It is well known that the study of arrhythmias requires careful inspection
 of electrocardiogram (ECG) recordings of several hours length.
 To this respect, the assistance of automatic algorithms may represent an
 increase in the number of patients analyzed, and the quality of the variables
 derived from those ECG recordings.
\end_layout

\begin_layout Standard
During the last decades, the relation between the cardiology and computer
 technology has become closer, and as long as this relation keeps evolving,
 cardiologists, scientists and people will be benefit.
 Computers helps cardiology in different areas such as data storage, surgical
 procedures, knowledge and diagnostic sharing
\change_deleted -1260779252 1469630405
 
\change_unchanged
.
 In this case, computerized methods can help to detect cardiovascular diseases
 with a high degree of assistance.
 The ECG is a routine and inexpensive methodology in the clinical practice.
 Its use in diagnostic is important for
\change_deleted 2088930433 1469826848
 
\change_unchanged
 cardiologists to detect and analyze CVD's.
\end_layout

\begin_layout Standard
The ecg-kit 
\begin_inset CommandInset citation
LatexCommand cite
key "Demski2016"

\end_inset

, is an open source toolbox for
\change_deleted 361918700 1469986084
 
\change_unchanged
 processing
\change_deleted 361918700 1469986080
 
\change_unchanged
 cardiovascular signals, moreover, a great part of the included algorithms
 are specific for ECG signals.
 One of the main features, is the possibility of using several algorithms
 for ECG processing, such as the WFDB toolbox from Physionet
\begin_inset CommandInset citation
LatexCommand cite
key "PhysioNet"

\end_inset

, the Pan and Tompkins QRS detector 
\begin_inset CommandInset citation
LatexCommand cite
key "pantom"

\end_inset

, 
\change_deleted 361918700 1469986124
the 
\change_inserted 361918700 1469986182
an ECG heartbeat classifier 
\begin_inset CommandInset citation
LatexCommand cite
key "Llamedo12Semiauto"

\end_inset

, 
\change_unchanged
and the wavedet ECG delineator 
\begin_inset CommandInset citation
LatexCommand cite
key "Martinez04"

\end_inset

 among others.
 Also the toolbox includes other scritps for inspecting, correcting and
 reporting all these results.
 The kit also implements a recording interface which allows processing several
 ECG formats, such as HL7-aECG, MIT, ISHNE, HES, Mortara, and AHA.
 Other important feature of the toolbox is the ability of processing signals
 of an arbitrary size
\change_inserted 361918700 1469986278
, from tenth of seconds up 
\change_unchanged
.
 
\end_layout

\begin_layout Standard
The toolbox is implemented in Matlab, requiring that users must be familiar
 with this environment before using the ecg-kit.
 This project is going to take benefit from ecg-kit 
\change_deleted 361918700 1469984917
functionalities
\change_inserted 361918700 1469984917
features
\change_unchanged
 to create an open web software that could be easily accesed by any cardiologis,
 researcher, or student around the world.
 
\begin_inset Note Note
status open

\begin_layout Plain Layout
esto último no me gusta mucho :( si querés, poner algo que esta aplicación
 podría ampliar aún más el alcance global de la difusión de nuestra tarea
 investigativa.
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Note Note
status open

\begin_layout Plain Layout
Yo acá haría una referencia a lo que ya hemos desarrollado del ecg-kit,
 qué particularidades tiene, qué tipo de algoritmos ya tiene implementado
 y qué análisis se podrían hacer, hacé una primera versión si querés.
\end_layout

\end_inset


\end_layout

\begin_layout Section
Software
\end_layout

\begin_layout Subsection
Scope
\end_layout

\begin_layout Standard
As it was said before, the main objective of the application is to give
 to any user, the possibility of getting an automatic analysis from the
 ECG.
 The results will be shown in a report, and it will be also possible to
 see the ECG in an interactive
\change_deleted 2088930433 1469828813
 
\change_unchanged
 diagram.
 Every cardiologist that wants to use this application, will need the browser
 or any phone with Android or iOS.
 It won't be necessary to have any other additional software.
 In addition.
 this application removes the need of buying any expensive software, it
 will be just necessary to have the minimum knowledge to use either a computer
 or a phone.
\end_layout

\begin_layout Subsection
Components
\end_layout

\begin_layout Standard
This software will be integrated by the following main components, ECG-D3
 library, front end web application, backend, and Matlab core.
 
\end_layout

\begin_layout Enumerate

\series bold
ECG-D3 library
\series default
: D3
\begin_inset CommandInset citation
LatexCommand cite
key "d3js"

\end_inset

 is a JavaScript library for manipulating documents based on data.
 In web development, it is the most used library to create interactive graphs.
 During our research, we realized there is no any big open library to create
 ECG graphs for javascript.
 Therefore, one of the main tasks in this project isto create an open library
 for the graphics of the ECG using D3.
\end_layout

\begin_layout Enumerate

\series bold
Front-end
\series default
: this component will handle the interaction with the user.
 The main focus here, is to create an intuive interface to upload the files
 and, to present the ECG-D3 graph with the report of the results.
 
\end_layout

\begin_layout Enumerate

\series bold
Back-end: 
\series default
REST API 
\begin_inset CommandInset citation
LatexCommand cite
key "REST"

\end_inset

.
 It will handle the requests between front-end and the core algorihtms implented
 in Matlab.
\end_layout

\begin_layout Enumerate

\series bold
Matlab core
\series default
: implements the algorithms 
\change_inserted 361918700 1469985733

\emph on
w
\change_deleted 361918700 1469985733
W
\change_unchanged
avedet
\emph default
, 
\emph on
gqrs
\emph default
, 
\emph on
wqrs
\emph default
, Pan and Tompkins, ECGpuwave, EP limited, to detect the location of each
 heartbeat (QRS detection).
 After detecting the QRS, the second task consist on running the peak detection
 over pulsatile signals such as arterial blood pressure (ABP) or plethysmographi
c (PPG).
 The task uses two algorithms to achieve pulse detection, and as in QRS
 detection, it is possible to use any of them.
 The last task, will be the ECG heartbeat classification, that follows the
 EC-57 AAMI recommendation 
\begin_inset CommandInset citation
LatexCommand cite
key "AAMI-EC57"

\end_inset

classifying heartbeats into four classes: N normal S supraventricular V
 ventricular F fusion of normal and ventricular.
 Those values will be presented to the user.
\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/ArchitectureUML.png

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
Architecture diagram
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Main user interaction
\end_layout

\begin_layout Standard
The user interaction will be handled by the app in the form of a SPA(Single
 page application).
 This means that the final user will be using the homepage for its objective.
 The homepage will provide a checkbox for the selecction of the operations
 to be applied to the selected ECG.
 The range of operations available will be the ones that are already available
 through the use of the existing ECG-Kit Matlab package.
 The user will also be provided with an input field to upload its own registered
 ECG's.
\end_layout

\begin_layout Standard
Once the desired action is selected the user will be presented with a loading
 feedback.
 At this point the web appliaction makes a REST call to the server.
 The server, handled in python, will process this request and send an according
 signal to the ECG-Kit matlab package.
 The ECG-kit matlab package will process the request and serve the raw data
 to a python service.
 The python service will process the newly aquired data and serve it to
 the web application in JSON format.
\end_layout

\begin_layout Standard
The web application receives its data in JSON format as the several points
 in the ECG graph.
 From this data a D3 graph will be rendered using the in-house developed
 ECG-D3 library.
 The data will be presented in the way of an interactive graph where the
 final user can modify the range of the signal as well as correlate the
 data to several other metrics.
 From this point, the user can select to make a new ECG processing or keep
 processing the ECG that was previously selected.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center

\change_inserted -1260779252 1469626674
\begin_inset Graphics
	filename img/userInteraction.png
	lyxscale 40
	scale 20

\end_inset


\begin_inset Note Note
status collapsed

\begin_layout Plain Layout

\change_inserted -1260779252 1469626674
agregá las imágenes al repo !
\end_layout

\end_inset


\change_unchanged

\end_layout

\begin_layout Subsection*
\begin_inset Caption Standard

\begin_layout Plain Layout

\change_inserted -1260779252 1469627101
\begin_inset Note Note
status open

\begin_layout Plain Layout

\change_inserted -1260779252 1469627101
Acá se pone un pie de figura
\end_layout

\end_inset


\change_unchanged

\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Results
\end_layout

\begin_layout Standard
Results are going to be presented in the ECG interactive graph and a report
 to summarise the results of the whole analysis.
\end_layout

\begin_layout Subsubsection
ECG 
\end_layout

\begin_layout Subsubsection
Report
\end_layout

\begin_layout Standard
Thanks to the Automatic Heartbeat classification developed in the ecg-kit,
 the heartbeats are going to be classified into the following classes: Normal,
 Supraventricular, Ventricular, Fusion of Normal and Ventricular.
 The report will present, the amount of hearbeats detected and the amount
 for each type..
\end_layout

\begin_layout Standard
Furthermore, when the files uploaded include the expert annotations, or
 ‘’ground truth’‘, for each heartbeat it is going to be possible to check
 the effiency of the algorithm.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/table-smaller.png

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
Example report
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
In the following image, the report will show the amount of heart beats detected
 for each type and the true amount annotated bye the experts.
 Furtheremore, it is going to be shown the effectiveness 
\begin_inset Formula $\frac{positiveHeartBeatsDetected}{trueHeartBeats}$
\end_inset

, and positive detections 
\begin_inset Formula $\frac{positiveHeartBeatsDetected}{totalHeartBeatsDetexted}$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/normalHeartBeats.png
	lyxscale 40
	scale 20

\end_inset


\begin_inset Graphics
	filename img/ventricularHeartBeats.png
	lyxscale 40
	scale 20

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
Example for graphs
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Section
Learning Purposes
\end_layout

\begin_layout Standard
When a patient goes to the Emergency Room, the ECG is the first procedure
 to be done.
 Sometimes, in seconds, doctors need to understand what is happening with
 the patient.
 Having enough practise reading ECGs, could be the difference to recover
 a patient in a risk situation.
 It is clear the importance of knowing how to read an ECG properly, and
 this the reason why ECG reading is one of the first things to be learnt
 by doctors.
\end_layout

\begin_layout Standard
This is other objective of our applicatio.
 Our tool could be also used for learning purposes.
 Students can use the application to compare their results with the application
\change_inserted 2088930433 1469828655
's
\change_unchanged
 results.
 Furthermore, not only this app could be used by students but also by medicine
 teachers who want to use an interactive tool.
 The application will be also integrated with Physionet databases 
\begin_inset CommandInset citation
LatexCommand cite
key "PhysioNet"

\end_inset

, therefore, it will be possible for students to use the app with enough
 ECG examples.
\end_layout

\begin_layout Section
Conclusion and Future releases
\end_layout

\begin_layout Standard
As it was mentioned before, in a nearly feature the application will give
 the option to store the recordings uploaded by the cardiologist.
 Doing that, it will be possible to store recordings of real ECG to analyse
 and understand CVD.
 Using that information, it will be possible to run different analysis regarding
, regions, ages, and so on.
\end_layout

\begin_layout Standard
It is worth highlighting that there is not any other open application like
 this on internet.
 
\end_layout

\begin_layout Standard
As it was possible to see through this document, the project surronds many
 areas such as research, medicine, learning.
 
\end_layout

\begin_layout Standard
The code is available on github for any developer or cardiologist who wants
 to see how the app was done.
 And of course, it will be also possible to collaborate fixing or creating
 new features for the app.
\end_layout

\begin_layout Standard
\begin_inset Note Note
status open

\begin_layout Plain Layout
Esto no tenías por qué saberlo Alan, se suele usar el gestor de citas, para
 evitar andar renumerándolas a medida que las vas cambiando de lugar en
 el texto, y por centralizar todas las referencias.
 Eso se hace en el archivo report.bib que se lo referencia al final de este
 doc.
 Se puede editar fácilmente mediante el soft jabref
\end_layout

\end_inset


\end_layout

\begin_layout Section*
Acknowledgments
\end_layout

\begin_layout Standard
This work was supported by projects ASUTNBA0003860 from
\lang spanish
 Universidad Tecnológica Nacional, Buenos Aires, Argentina,
\lang english
 and D9-UTN1714 from 
\lang spanish
Secretaría de Políticas Universitarias, Ministerio de Educación, Argentina
\lang english
.
\end_layout

\begin_layout Standard
\begin_inset CommandInset bibtex
LatexCommand bibtex
bibfiles "report"
options "spiebib"

\end_inset


\end_layout

\end_body
\end_document
